\documentclass{article}
\usepackage[listings]{tcolorbox}
\tcbuselibrary{listings}
\tcbset{%
  colframe=green!45!black,
  fonttitle=\bfseries, 
  leftrule=3mm,
  sharp corners=downhill,
  colback=black!5!white,
  left=1mm,
  top=1mm,
  right=1mm,
  bottom=1mm,
  middle=1mm,
  arc=2mm,
}
\makeatletter
\def\fsCode{%
  % dispaly input file .fsx from \src
  % #1 = optional further arguments for lstinputlisting
  % #2 = filename without suffix, and label
  % #3 = caption
  \@ifnextchar[{\@fsCodewith}{\@fsCodewithout}}
\def\@fsCodewith[#1]#2#3{%
  \tcbinputlisting{title={#3},listing file=src/#2.fsx}
}
\def\@fsCodewithout#1#2{%
  \tcbinputlisting{title={#2},listing file=src/#1.fsx}
}
\makeatother
\newcounter{filePrg}[section]
\newtcbinputlisting[auto counter,number within=section,number format=\arabic]{\codeFromFile}[3]{%
  listing file={src/#1.fsx},
  listing only,
  title=\textbf{File program \thetcbcounter}\textbf{:} \textit{#2},
  label={filePrg:#3},
}

\begin{document}
\section{A section}
\fsCode{fibFor}{Create the window and turn over control to the operating system.}
\codeFromFile{fibFor}{Another welcome program.}{code01}
\section{Another section}
\codeFromFile{fibFor}{Another welcome program.}{code02}
\end{document}
