\documentclass[springer.tex]{subfiles}
\graphicspath{ {./figures/} }

\begin{document}
\chapter{Language Details}
\label{chap:details}
This appendix lists various language details.

\section{Arithmetic operators on basic types}
\begin{table}
  \centering
  \rowcolors{2}{oddRowColor}{evenRowColor}
  \begin{tabularx}{\linewidth}{|l|l|l|l|l|X|}
    \hline
    \rowcolor{headerRowColor} Operator & \lstinline!leftOp! & \lstinline!rightOp! & Expression & Result &Description\\
    \hline
    \lstinline!leftOp + rightOp!&ints & ints & \lstinline!5 + 2!&\lstinline!7!&Addition\\
             &floats & floats & \lstinline!5.0 + 2.0!&\lstinline!7.0!&\\
             &chars & chars & \lstinline!'a' + 'b'!&\lstinline!'\\195'!&Addition of codes\\
             &strings & strings & \lstinline!"ab" + "cd"!&\lstinline!"abcd"!&Concatenation\\
    \hline
    \lstinline!leftOp - rightOp!&ints & ints & \lstinline!5 - 2!&\lstinline!3!&Subtraction\\
             &floats & floats & \lstinline!5.0 - 2.0!&\lstinline!3.0!&\\
    \hline
    \lstinline!leftOp * rightOp!&ints & ints & \lstinline!5 * 2!&\lstinline!10!&Multiplication\\
             &floats & floats & \lstinline!5.0 * 2.0!&\lstinline!10.0!&\\
    \hline
    \lstinline!leftOp / rightOp!&ints & ints & \lstinline!5 / 2!&\lstinline!2!&Integer division\\
             &floats & floats & \lstinline!5.0 / 2.0!&\lstinline!2.5!&Division\\
    \hline
    \lstinline!leftOp \% rightOp!&ints & ints & \lstinline!5 \% 2!&\lstinline!1!&Remainder\\
             &floats & floats & \lstinline!5.0 \% 2.0!&\lstinline!1.0!&\\
    \hline
    \lstinline!leftOp ** rightOp!&floats & floats & \lstinline!5.0 ** 2.0!&\lstinline!25.0!&Exponentiation\\
    \hline
    \lstinline!leftOp \&\& rightOp!&bool & bool & \lstinline!true \&\& false!&\lstinline!false!&boolean and\\
    \hline
    \lstinline!leftOp || rightOp!&bool & bool & \lstinline!true || false!&\lstinline!false!&boolean or\\
    \hline
    \lstinline!leftOp \&\&\& rightOp!&ints & ints & \lstinline!0b1010 \&\&\& 0b1100!&\lstinline!0b1000!&bitwise bool and\\
    \hline
    \lstinline!leftOp ||| rightOp!&ints & ints & \lstinline!0b1010 ||| 0b1100!&\lstinline!0b1110!&bitwise boolean or\\
    \hline
    \lstinline!leftOp \^\^\^ rightOp!&ints & ints & \lstinline!0b1010 \^\^\^ 0b1101!&\lstinline!0b0111!&bitwise boolean exclusive or\\
    \hline
     \lstinline!leftOp <<< rightOp!&ints & ints & \lstinline!0b00001100uy <<< 2!&\lstinline!0b00110000uy!&bitwise shift left\\
     \hline
     \lstinline!leftOp >>> rightOp!&ints & ints & \lstinline!0b00001100uy >>> 2!&\lstinline!0b00000011uy!&bitwise and\\
     \hline
    \lstinline!+op!&ints&&\lstinline!+3!&\lstinline!3!&identity\\
             &floats&&\lstinline!+3.0!&\lstinline!3.0!&\\
    \hline
    \lstinline!-op!&ints&&\lstinline!-3!&\lstinline!-3!&negation\\
             &floats&&\lstinline!-3.0!&\lstinline!-3.0!&\\
    \hline
    \lstinline!not op!&bool&&\lstinline!not true!&\lstinline!false!&boolean negation\\
    \hline
    \lstinline!\~\~\~op!&ints&&\lstinline!\~\~\~0b00001100uy!&\lstinline!0b11110011uy!&bitwise boolean negation\\
    \hline
  \end{tabularx}
  \caption{Arithmetic operators on basic types. Ints, floats, chars, and strings means all built-in integer types etc. Note that for the bitwise operations, digits \lstinline{0} and \lstinline{1} are taken to be \lstinline{true} and \lstinline{false}.}
  \label{tab:preNInfixOperators}
\end{table}

\begin{table}
  \centering
  \rowcolors{2}{oddRowColor}{evenRowColor}
  \begin{tabularx}{\linewidth}{|l|l|l|l|l|X|}
    \hline
    \rowcolor{headerRowColor} Operator & \lstinline!leftOp! & \lstinline!rightOp! & Expression & Result &Description\\
    \hline
    \lstinline!leftOp < rightOp!&bool & bool & \lstinline!true < false!&\lstinline!false!&Less than\\
             &ints & ints & \lstinline!5 < 2!&\lstinline!false!&\\
             &floats & floats & \lstinline!5.0 < 2.0!&\lstinline!false!&\\
             &chars & chars & \lstinline!'a' < 'b'!&\lstinline!true!&\\
             &strings & strings & \lstinline!"ab" < "cd"!&\lstinline!true!&\\
    \hline
    \lstinline!leftOp > rightOp!&bool & bool & \lstinline!true > false!&\lstinline!true!&Greater than\\
             &ints & ints & \lstinline!5 > 2!&\lstinline!true!&\\
             &floats & floats & \lstinline!5.0 > 2.0!&\lstinline!true!&\\
             &chars & chars & \lstinline!'a' > 'b'!&\lstinline!false!&\\
             &strings & strings & \lstinline!"ab" > "cd"!&\lstinline!false!&\\
    \hline
    \lstinline!leftOp = rightOp!&bool & bool & \lstinline!true = false!&\lstinline!false!&Equal\\
             &ints & ints & \lstinline!5 = 2!&\lstinline!false!&\\
             &floats & floats & \lstinline!5.0 = 2.0!&\lstinline!false!&\\
             &chars & chars & \lstinline!'a' = 'b'!&\lstinline!false!&\\
             &strings & strings & \lstinline!"ab" = "cd"!&\lstinline!false!&\\
    \hline
    \lstinline!leftOp <= rightOp!&bool & bool & \lstinline!true <= false!&\lstinline!false!&Less than or equal\\
             &ints & ints & \lstinline!5 <= 2!&\lstinline!false!&\\
             &floats & floats & \lstinline!5.0 <= 2.0!&\lstinline!false!&\\
             &chars & chars & \lstinline!'a' <= 'b'!&\lstinline!true!&\\
             &strings & strings & \lstinline!"ab" <= "cd"!&\lstinline!true!&\\
    \hline
    \lstinline!leftOp >= rightOp!&bool & bool & \lstinline!true >= false!&\lstinline!true!&Greater than or equal\\
             &ints & ints & \lstinline!5 >= 2!&\lstinline!true!&\\
             &floats & floats & \lstinline!5.0 >= 2.0!&\lstinline!true!&\\
             &chars & chars & \lstinline!'a' >= 'b'!&\lstinline!false!&\\
             &strings & strings & \lstinline!"ab" >= "cd"!&\lstinline!false!&\\
    \hline
    \lstinline!leftOp <> rightOp!&bool & bool & \lstinline!true <> false!&\lstinline!true!&Not Equal\\
             &ints & ints & \lstinline!5 <> 2!&\lstinline!true!&\\
             &floats & floats & \lstinline!5.0 <> 2.0!&\lstinline!true!&\\
             &chars & chars & \lstinline!'a' <> 'b'!&\lstinline!true!&\\
             &strings & strings & \lstinline!"ab" <> "cd"!&\lstinline!true!&\\
    \hline
  \end{tabularx}
  \caption{Comparison operators on basic types. Ints, floats, chars, and strings means all built-in integer types etc..}
  \label{tab:comparisonOperators}
\end{table}
\clearpage

\section{Basic arithmetic functions}
\idxss{\lstinline{abs}}\idxss{\lstinline{acos}}\idxss{\lstinline{asin}}\idxss{\lstinline{atan}}\idxss{\lstinline{atan2}}\idxss{\lstinline{ceil}}\idxss{\lstinline{cos}}\idxss{\lstinline{cosh}}\idxss{\lstinline{exp}}\idxss{\lstinline{floor}}\idxss{\lstinline{log}}\idxss{\lstinline{log10}}\idxss{\lstinline{max}}\idxss{\lstinline{min}}\idxss{\lstinline{pown}}\idxss{\lstinline{round}}\idxss{\lstinline{sign}}\idxss{\lstinline{sin}}\idxss{\lstinline{sinh}}\idxss{\lstinline{sqrt}}\idxss{\lstinline{tan}}\idxss{\lstinline{tanh}}
\begin{table}
  \centering
  \rowcolors{2}{oddRowColor}{evenRowColor}
  \begin{tabular}{|l|l|l|l|l|}
    \hline
    \rowcolor{headerRowColor} Type & Function name & Example & Result & Description\\
    \hline
    Ints and floats & \lstinline!abs! & \lstinline!abs -3! & \lstinline!3! & Absolute value\\
    \hline 
    Floats & \lstinline!acos! & \lstinline!acos 0.8! & \lstinline!0.6435011088! & Inverse cosine\\
    \hline 
    Floats & \lstinline!asin! & \lstinline!asin 0.8! & \lstinline!0.927295218! & Inverse sinus\\
    \hline 
    Floats & \lstinline!atan! & \lstinline!atan 0.8! & \lstinline!0.6747409422! & Inverse tangent\\
    \hline 
    Floats & \lstinline!atan2! & \lstinline!atan2 0.8 2.3! & \lstinline!0.3347368373! & Inverse tangentvariant\\
    \hline 
    Floats & \lstinline!ceil! & \lstinline!ceil 0.8! & \lstinline!1.0! & Ceiling\\
    \hline 
    Floats & \lstinline!cos! & \lstinline!cos 0.8! & \lstinline!0.6967067093! & Cosine\\
    \hline 
    Floats & \lstinline!cosh! & \lstinline!cosh 0.8! & \lstinline!1.337434946! & Hyperbolic cosine\\
    \hline 
    Floats & \lstinline!exp! & \lstinline!exp 0.8! & \lstinline!2.225540928! & Natural exponent\\
    \hline 
    Floats & \lstinline!floor! & \lstinline!floor 0.8! & \lstinline!0.0! & Floor\\
    \hline 
    Floats & \lstinline!log! & \lstinline!log 0.8! & \lstinline!-0.2231435513! & Natural logarithm\\
    \hline 
    Floats & \lstinline!log10! & \lstinline!log10 0.8! & \lstinline!-0.09691001301! & Base-10 logarithm\\
    \hline 
    \begin{minipage}[t]{0.175\linewidth}Ints, floats,\\chars, and strings\end{minipage} & \lstinline!max! & \lstinline!max 3.0 4.0! & \lstinline!4.0! & Maximum\\
    \hline 
    \begin{minipage}[t]{0.175\linewidth}Ints, floats,\\chars, and strings\end{minipage} & \lstinline!min! & \lstinline!min 3.0 4.0! & \lstinline!3.0! & Minimum\\
    \hline 
    Ints & \lstinline!pown! & \lstinline!pown 3 2! & \lstinline!9! & Integer exponent\\
    \hline 
    Floats & \lstinline!round! & \lstinline!round 0.8! & \lstinline!1.0! & Rounding\\
    \hline 
    Ints and floats & \lstinline!sign! & \lstinline!sign -3! & \lstinline!-1! & Sign\\
    \hline 
    Floats & \lstinline!sin! & \lstinline!sin 0.8! & \lstinline!0.7173560909! & Sinus\\
    \hline 
    Floats & \lstinline!sinh! & \lstinline!sinh 0.8! & \lstinline!0.8881059822! & Hyperbolic sinus\\
    \hline 
    Floats & \lstinline!sqrt! & \lstinline!sqrt 0.8! & \lstinline!0.894427191! & Square root\\
    \hline 
    Floats & \lstinline!tan! & \lstinline!tan 0.8! & \lstinline!1.029638557! & Tangent\\
    \hline 
    Floats & \lstinline!tanh! & \lstinline!tanh 0.8! & \lstinline!0.6640367703! & Hyperbolic tangent\\
    \hline 
  \end{tabular}
  \caption{Predefined functions for arithmetic operations}
  \label{tab:arithmeticFunctions}
\end{table}

\begin{table}
  \centering
  \begin{tabularx}{\linewidth}{|l|l|X|}
    \hline
    Name& Example & Description\\
    \hline
    \lstinline{fst} & \lstinline{fst (1, 2)} &\\
    \hline
    \lstinline{snd} & \lstinline{snd (1, 2)} &\\
    \hline
    \lstinline{failwith} & \lstinline{failwith} &\\
    \hline
    \lstinline{invalidArg} & \lstinline{invalidArg} &\\
    \hline
    \lstinline{raise} & \lstinline{raise} &\\
    \hline
    \lstinline{reraise} & \lstinline{reraise} &\\
    \hline
    \lstinline{ref} & \lstinline{ref} &\\
    \hline
%    \lstinline|(!)| & \lstinline|!| &\\
    \hline
    \lstinline{ceil} & \lstinline{ceil} &\\
    \hline
  \end{tabularx}
  \caption{Built-in functions.}
  \label{tab:simpleBuiltInFct}
\end{table}
\clearpage

\section{Precedence and associativity}
\begin{comment}
\begin{table}
  \centering
  \rowcolors{2}{oddRowColor}{evenRowColor}
  \begin{tabularx}{\linewidth}{|>{\hsize=.8\hsize\raggedright\arraybackslash}X|>{\hsize=.4\hsize}X|>{\hsize=1.8\hsize}X|}
    \hline
    \rowcolor{headerRowColor}     Operator & Associativity & Description\\
    \hline
    \mbox{\lstinline|+op|,} \mbox{\lstinline|-op|,} \mbox{\lstinline|\~\~\~op|} & Left & Unary identity, negation, and bitwise negation operator\\
    \hline
    \lstinline|f x| & Left & Function application\\
    \hline
    \lstinline|leftOp ** rightOp| & Right & Exponent\\ 
    \hline
    \mbox{\lstinline|leftOp * rightOp|,} \mbox{\lstinline|leftOp / rightOp|,} \mbox{\lstinline|leftOp \% rightOp|} & Left & Multiplication, division and remainder\\
    \hline
    \mbox{\lstinline|leftOp + rightOp|,} \mbox{\lstinline|leftOp - rightOp|} & Left & Addition and subtraction binary operators\\
    \hline
    \lstinline|leftOp \^\^\^ rightOp| & Right & bitwise exclusive or\\
    \hline
    \mbox{\lstinline|leftOp < rightOp|,} \mbox{\lstinline|leftOp <= rightOp|,} \mbox{\lstinline|leftOp > rightOp|,} \mbox{\lstinline|leftOp >= rightOp|,} \mbox{\lstinline|leftOp = rightOp|,} \mbox{\lstinline|leftOp <> rightOp|,} \mbox{\lstinline|leftOp <<< rightOp|,} \mbox{\lstinline|leftOp >>> rightOp|,} \mbox{\lstinline|leftOp \&\&\& rightOp|,} \mbox{\lstinline!leftOp ||| rightOp!,}
             & Left & Comparison operators, bitwise shift, and bitwise 'and' and 'or'.\\
    \hline
    \lstinline|\&\&| & Left & Boolean and\\
    \hline
    \lstinline+||+ & Left & Boolean or\\
    \hline
  \end{tabularx}
  \caption{Some common operators, their precedence, and their associativity. Rows are ordered from highest to lowest precedences, such that \lstinline|leftOp * rightOp| has higher precedence than \lstinline|leftOp + rightOp|. Operators in the same row has same precedence. Full table is given in \Cref{tab:operatorPrecedence}.}
  \label{tab:someOperatorPrecedences}
\end{table}
\end{comment}

\idxs{boolean or}\idxs{boolean and}
\begin{table}
  \centering
  \begin{tabularx}{\linewidth}{|>{\hsize=1\hsize\raggedright\arraybackslash}X|>{\hsize=.5\hsize}X|>{\hsize=1.5\hsize}X|}
    \hline
    Operator & Associativity & Description\\
    \hline
    \lstinline[language=ebnf]|ident "<" types ">"| & Left & High-precedence type application\\
    \hline
    \lstinline[language=ebnf]|ident "(" expr ")"| & Left & High-predence application\\
    \hline
    \lstinline[language=ebnf]|"."| & Left & \\
    \hline
    \lstinline[language=ebnf]|prefixOp| & Left & All prefix operators\\
    \hline
    \lstinline[language=ebnf]|"|" rule| & Left & Pattern matching rule\\
    \hline
    \mbox{\lstinline[language=ebnf]|ident expr|,} \mbox{\lstinline[language=ebnf]|"lazy'' expr|,} \mbox{\lstinline[language=ebnf]|"assert'' epxr|} & Left & \\
    \hline
    \lstinline[language=ebnf]|"**" {opChar}| & Right & Exponent like\\
    \hline
    \mbox{\lstinline[language=ebnf]|"*"  {opChar}|,} \mbox{\lstinline[language=ebnf]|"/"  {opChar}|,} \mbox{\lstinline[language=ebnf]|"\%"  {opChar}|} & Left & Infix multiplication like\\
     \hline
    \mbox{\lstinline[language=ebnf]|"-"  {opChar}|,} \mbox{\lstinline[language=ebnf]|"+"  {opChar}|} & Left & Infix addition like\\
     \hline
     \lstinline[language=ebnf]|":?''| & None & \\
     \hline
     \lstinline[language=ebnf]|"::''| & Right & \\
     \hline
     \lstinline[language=ebnf]|"^''  {opChar}| & Right & \\
     \hline
    \mbox{\lstinline[language=ebnf]|"!="  {opChar}|,} \mbox{\lstinline[language=ebnf]|"<"  {opChar}|,} \mbox{\lstinline[language=ebnf]|">"  {opChar}|,} \mbox{\lstinline[language=ebnf]|"="|,} \mbox{\lstinline[language=ebnf]!"|"  {opChar}!,} \mbox{\lstinline[language=ebnf]|"\&"  {opChar}|,} \mbox{\lstinline[language=ebnf]|"\$"  {opChar}|} & Left & Infix addition like\\
     \hline
    \mbox{\lstinline[language=ebnf]|":>"|,} \mbox{\lstinline[language=ebnf]|":?>"|} & Right & \\
     \hline
    \mbox{\lstinline[language=ebnf]|"\&"|,} \mbox{\lstinline[language=ebnf]|"\&\&"|} & Left & Boolean and like\\
     \hline
    \mbox{\lstinline[language=ebnf]|"or"|,} \mbox{\lstinline[language=ebnf]!"||"!} & Left & Boolean or like\\
     \hline
     \lstinline[language=ebnf]|","| & None & \\
     \hline
     \lstinline[language=ebnf]|":="| & Right & \\
     \hline
     \lstinline[language=ebnf]|"->"| & Right & \\
     \hline
    \lstinline[language=ebnf]|"if"| & None & \\
     \hline
    \mbox{\lstinline[language=ebnf]|"function"|,} \mbox{\lstinline[language=ebnf]|"fun"|,} \mbox{\lstinline[language=ebnf]|"match"|,} \mbox{\lstinline[language=ebnf]|"try"|}& None & \\
     \hline
     \lstinline[language=ebnf]|"let"| & None & \\
     \hline
     \lstinline[language=ebnf]|";"| & Right & \\
     \hline
     \lstinline[language=ebnf]!"|"! & Left & \\
     \hline
     \lstinline[language=ebnf]|"when"| & Right & \\
     \hline
     \lstinline[language=ebnf]|"as"| & Right & \\
     \hline
  \end{tabularx}
  \caption{Precedence and associativity of operators. Operators in the same row has same precedence. See \Cref{list:infixOrPrefixOperators} for the definition of \lstinline!prefixOp!}
  \label{tab:operatorPrecedence}
\end{table}
\clearpage

\begin{comment}
\section{Behind the scene}
\jon{I'm not sure, whether it will be a good idea to describe this. Could be used as the umbrella for the specification of the program.} When a program is compiled or interpreted the following steps are performed by the system
  \begin{enumerate}
  \item Decoding
  \item Tokenization
  \item Lexical Filtering
  \item Parsing
  \item Importing
  \item Checking
  \item Elaboration
  \item Execution
  \end{enumerate}
  \dots
\end{comment}

%\section{Lightweight Syntax}
%To appear later.\jon{See Lightweight Syntax, Spec-4.0 Chapter 15.1}
\end{document}
%%% Local Variables:
%%% TeX-master: "fsharpNotes"
%%% End:

